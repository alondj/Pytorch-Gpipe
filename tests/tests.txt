
#TODO tests

1.config pytest
2. only one set of test


required tests:

pipeline:
    1. correctness no matter the number of splits or number of microbatches, we always return the same result as a the naive approach/single gpu/dataParallel
        a. for a network without batchNorm / rng operations( dropout etc.)
        b. for a network with batchNorm / rng 
    2. accuracy no matter the partition and microbatches configs we get the accuracy (up to a small margin) as the naive approach/single gpu/dataParallel
        a. for a network without batchNorm / rng operations( dropout etc.)
        b. for a network with batchNorm / rng

METIS:
    1.check that it works +

profiling:
    1. check that we discover all intended layers+
    2. check that we do not change the model in the process+

control_flow:
    1. check that we find all relevant scopes
    2. ensure control flow is accurate
    3. check that output shapes are correct
    4. check that weights are allocated correctly+

partitioning:
    1. check that we distribute the model according to the graph/specifications
    2. check that we do not induce unexpected changes
    3. check that we optimize the wrappers correctly